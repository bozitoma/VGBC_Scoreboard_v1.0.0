"use strict";
const tslib_1 = require("tslib");
const util_1 = tslib_1.__importDefault(require("../lib/util"));
const child_process_1 = require("child_process");
module.exports = function (program) {
    program
        .command('start')
        .option('-d, --disable-source-maps', 'Disable source map support')
        .description('Start NodeCG')
        .action((options) => {
        // Check if nodecg is already installed
        if (util_1.default.pathContainsNodeCG(process.cwd())) {
            if (options.disableSourceMaps) {
                child_process_1.execSync('node index.js', { stdio: 'inherit' });
            }
            else {
                child_process_1.execSync('node --enable-source-maps index.js', { stdio: 'inherit' });
            }
        }
        else {
            console.warn('No NodeCG installation found in this folder.');
        }
    });
};
